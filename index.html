<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Premium Social - Ganhe Dinheiro Real</title>
  <meta name="description" content="Ganhe dinheiro promovendo redes sociais. Clientes compram seguidores e engajamento, voc√™ executa tarefas e recebe pagamento.">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='%236366f1'/></svg>">
  <style>
    :root {
      --p-primary: #6366f1;
      --p-secondary: #a855f7;
      --p-bg: #0f172a;
      --p-card: rgba(30, 41, 59, 0.95);
      --p-text: #f8fafc;
      --p-success: #10b981;
      --p-warning: #f59e0b;
      --p-error: #ef4444;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; 
      background: linear-gradient(135deg, var(--p-bg), #1e293b); 
      color: var(--p-text);
      min-height: 100vh;
    }

    /* Toast Notifications */
    .toast-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 9999;
      max-width: 400px;
    }

    .toast {
      background: var(--p-card);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 12px;
      padding: 16px 20px;
      margin-bottom: 12px;
      animation: slideIn 0.3s ease-out;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .toast.success { border-left: 4px solid var(--p-success); }
    .toast.error { border-left: 4px solid var(--p-error); }
    .toast.warning { border-left: 4px solid var(--p-warning); }

    @keyframes slideIn {
      from { transform: translateX(400px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    /* Modal Login */
    .p-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      backdrop-filter: blur(10px);
    }
    .p-modal.hidden { display: none; }
    .p-modal-content {
      background: var(--p-card);
      padding: 48px;
      border-radius: 24px;
      width: 90%;
      max-width: 420px;
      border: 1px solid rgba(255,255,255,0.1);
      backdrop-filter: blur(20px);
      position: relative;
    }
    .p-modal-close {
      position: absolute;
      top: 20px;
      right: 20px;
      background: none;
      border: none;
      color: var(--p-text);
      font-size: 1.5rem;
      cursor: pointer;
      opacity: 0.5;
      transition: opacity 0.3s;
    }
    .p-modal-close:hover { opacity: 1; }
    .p-modal h3 { text-align: center; margin-bottom: 32px; font-size: 1.8rem; }
    .p-register-link {
      text-align: center;
      margin-top: 24px;
      color: var(--p-primary);
      cursor: pointer;
      text-decoration: underline;
    }

    /* Landing */
    .p-landing { min-height: 100vh; display: flex; flex-direction: column; }
    .p-hero {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(168, 85, 247, 0.1)), var(--p-bg);
      padding: 80px 20px;
      text-align: center;
    }
    .p-hero h1 {
      font-size: clamp(2.5rem, 6vw, 5rem);
      font-weight: 800;
      background: linear-gradient(135deg, var(--p-primary), var(--p-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 24px;
    }
    .p-hero p { 
      font-size: 1.3rem; 
      color: #94a3b8; 
      margin-bottom: 48px; 
      max-width: 700px; 
      margin-left: auto; 
      margin-right: auto;
      line-height: 1.6;
    }
    .p-hero-buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 60px;
    }

    .p-access-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 32px;
      padding: 80px 20px;
      max-width: 1400px;
      margin: 0 auto;
    }
    .p-access-card {
      background: var(--p-card);
      padding: 48px 32px;
      border-radius: 24px;
      text-align: center;
      border: 1px solid rgba(255,255,255,0.1);
      transition: all 0.4s;
      cursor: pointer;
      backdrop-filter: blur(20px);
    }
    .p-access-card:hover {
      transform: translateY(-12px);
      box-shadow: 0 40px 80px rgba(0,0,0,0.4);
      border-color: var(--p-primary);
    }
    .p-access-icon { font-size: 5rem; margin-bottom: 24px; }
    .p-access-card h3 { font-size: 1.8rem; margin-bottom: 18px; }
    .p-access-card p { color: #94a3b8; line-height: 1.6; }

    /* App */
    .p-app-container { display: none; min-height: 100vh; padding: 20px; }
    .p-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 48px;
      padding: 32px 0;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .p-header h2 { font-size: 2.2rem; }
    .p-balance { 
      font-size: 1.8rem; 
      font-weight: 800; 
      color: var(--p-success);
      background: rgba(16, 185, 129, 0.1);
      padding: 16px 24px;
      border-radius: 16px;
    }
    .p-session-info {
      background: rgba(99, 102, 241, 0.1);
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 0.9rem;
      margin-left: 16px;
    }

    .p-card {
      background: var(--p-card);
      padding: 40px;
      border-radius: 24px;
      margin-bottom: 32px;
      border: 1px solid rgba(255,255,255,0.1);
      backdrop-filter: blur(20px);
    }
    .p-form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 24px;
      margin-bottom: 32px;
    }
    .p-form-group { margin-bottom: 24px; }
    .p-label { display: block; font-weight: 600; margin-bottom: 8px; color: #94a3b8; }
    .p-input, .p-select, .p-textarea {
      width: 100%;
      padding: 16px 20px;
      background: rgba(15, 23, 42, 0.8);
      border: 2px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      color: white;
      font-size: 1rem;
      transition: all 0.3s;
    }
    .p-textarea { resize: vertical; min-height: 100px; }
    .p-input:focus, .p-select:focus, .p-textarea:focus {
      outline: none;
      border-color: var(--p-primary);
      box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
    }
    .p-password-strength {
      height: 4px;
      border-radius: 2px;
      margin-top: 8px;
      transition: all 0.3s;
      background: rgba(255,255,255,0.1);
    }
    .p-password-weak { background: var(--p-error); width: 25%; }
    .p-password-medium { background: var(--p-warning); width: 50%; }
    .p-password-strong { background: var(--p-success); width: 100%; }

    .p-btn {
      padding: 16px 32px;
      border: none;
      border-radius: 16px;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .p-btn-primary { 
      background: linear-gradient(45deg, var(--p-primary), var(--p-secondary)); 
      color: white; 
    }
    .p-btn-success { background: linear-gradient(45deg, var(--p-success), #059669); color: white; }
    .p-btn-secondary { 
      background: rgba(255,255,255,0.1); 
      color: white; 
      border: 2px solid rgba(255,255,255,0.2);
    }
    .p-btn:hover { transform: translateY(-3px); box-shadow: 0 20px 40px rgba(0,0,0,0.3); }

    .p-tasks-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
      gap: 28px;
    }
    .p-task-card, .p-campaign-item {
      background: rgba(255,255,255,0.03);
      padding: 32px;
      border-radius: 20px;
      border-left: 5px solid var(--p-primary);
      transition: all 0.3s;
    }
    .p-task-card:hover { transform: translateX(8px); }
    .p-campaign-item:hover { background: rgba(99, 102, 241, 0.1); }

    .p-status {
      padding: 8px 20px;
      border-radius: 25px;
      font-size: 0.85rem;
      font-weight: 700;
      display: inline-block;
    }
    .p-status.available { background: rgba(16, 185, 129, 0.2); color: var(--p-success); }
    .p-status.active { background: rgba(99, 102, 241, 0.2); color: var(--p-primary); }
    .p-status.completed { background: rgba(34, 197, 94, 0.2); color: #22c55e; }

    .p-list { max-height: 500px; overflow-y: auto; }
    .p-list-item {
      padding: 24px;
      border-bottom: 1px solid rgba(255,255,255,0.05);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .p-list-item:last-child { border-bottom: none; }

    .p-error-message {
      color: var(--p-error);
      font-size: 0.9rem;
      margin-top: 8px;
      display: none;
    }
    .p-error-message.show { display: block; }

    .p-admin-table {
      width: 100%;
      border-collapse: collapse;
      background: rgba(255,255,255,0.02);
      border-radius: 16px;
      overflow: hidden;
    }
    .p-admin-table th, .p-admin-table td {
      padding: 16px;
      text-align: left;
      border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    .p-admin-table th {
      background: rgba(99, 102, 241, 0.2);
      font-weight: 700;
    }

    @media (max-width: 768px) {
      .p-hero-buttons { flex-direction: column; align-items: center; }
      .p-form-grid { grid-template-columns: 1fr; }
      .p-tasks-grid { grid-template-columns: 1fr; }
      .p-header { flex-direction: column; gap: 20px; text-align: center; }
      .p-modal-content { padding: 32px 24px; margin: 20px; }
    }
  </style>
</head>
<body>
  <!-- Toast Container -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- Login Modals -->
  <!-- Client Login -->
  <div id="pClientLoginModal" class="p-modal hidden">
    <div class="p-modal-content">
      <button class="p-modal-close" onclick="pApp.closeAllModals()">&times;</button>
      <h3>üë®‚Äçüíº Login Cliente</h3>
      <form id="clientLoginForm">
        <div class="p-form-group">
          <label class="p-label">Email</label>
          <input class="p-input" id="clientEmail" type="email" placeholder="seu@email.com" required>
        </div>
        <div class="p-form-group">
          <label class="p-label">Senha</label>
          <input class="p-input" id="clientPassword" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
        </div>
        <button type="submit" class="p-btn p-btn-primary" style="width: 100%;">Entrar</button>
        <div class="p-register-link" onclick="pApp.showClientRegister()">N√£o tem conta? Cadastre-se</div>
      </form>
    </div>
  </div>

  <!-- Client Register -->
  <div id="pClientRegisterModal" class="p-modal hidden">
    <div class="p-modal-content">
      <button class="p-modal-close" onclick="pApp.closeAllModals()">&times;</button>
      <h3>üìù Cadastro Cliente</h3>
      <form id="clientRegisterForm">
        <div class="p-form-group">
          <label class="p-label">Email</label>
          <input class="p-input" id="clientRegEmail" type="email" placeholder="seu@email.com" required>
        </div>
        <div class="p-form-group">
          <label class="p-label">Senha</label>
          <input class="p-input" id="clientRegPassword" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
          <div id="clientRegPasswordStrength" class="p-password-strength"></div>
        </div>
        <button type="submit" class="p-btn p-btn-primary" style="width: 100%;">Criar Conta</button>
        <div class="p-register-link" onclick="pApp.showClientLogin()">J√° tem conta? Fa√ßa login</div>
      </form>
    </div>
  </div>

  <!-- User Login -->
  <div id="pUserLoginModal" class="p-modal hidden">
    <div class="p-modal-content">
      <button class="p-modal-close" onclick="pApp.closeAllModals()">&times;</button>
      <h3>üë§ Login Usu√°rio</h3>
      <form id="userLoginForm">
        <div class="p-form-group">
          <label class="p-label">Email</label>
          <input class="p-input" id="userEmail" type="email" placeholder="seu@email.com" required>
        </div>
        <div class="p-form-group">
          <label class="p-label">Senha</label>
          <input class="p-input" id="userPassword" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
        </div>
        <button type="submit" class="p-btn p-btn-primary" style="width: 100%;">Entrar</button>
        <div class="p-register-link" onclick="pApp.showUserRegister()">Ganhe dinheiro agora! Cadastre-se</div>
      </form>
    </div>
  </div>

  <!-- User Register -->
  <div id="pUserRegisterModal" class="p-modal hidden">
    <div class="p-modal-content">
      <button class="p-modal-close" onclick="pApp.closeAllModals()">&times;</button>
      <h3>üí∞ Cadastro Usu√°rio</h3>
      <form id="userRegisterForm">
        <div class="p-form-group">
          <label class="p-label">Email</label>
          <input class="p-input" id="userRegEmail" type="email" placeholder="seu@email.com" required>
        </div>
        <div class="p-form-group">
          <label class="p-label">Senha</label>
          <input class="p-input" id="userRegPassword" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
          <div id="userRegPasswordStrength" class="p-password-strength"></div>
        </div>
        <button type="submit" class="p-btn p-btn-primary" style="width: 100%;">Come√ßar a Ganhar</button>
        <div class="p-register-link" onclick="pApp.showUserLogin()">J√° tem conta? Fa√ßa login</div>
      </form>
    </div>
  </div>

  <!-- Admin Login Modal -->
  <div id="pAdminLoginModal" class="p-modal hidden">
    <div class="p-modal-content">
      <button class="p-modal-close" onclick="pApp.closeAllModals()">&times;</button>
      <h3>‚öôÔ∏è Login Admin</h3>
      <form id="adminLoginForm">
        <div class="p-form-group">
          <label class="p-label">Email Admin</label>
          <input class="p-input" id="adminEmail" type="email" placeholder="servicos.ivanlima@gmail.com" required>
        </div>
        <div class="p-form-group">
          <label class="p-label">Senha</label>
          <input class="p-input" id="adminPassword" type="password" placeholder="@Angola1975#" required>
        </div>
        <button type="submit" class="p-btn p-btn-primary" style="width: 100%;">Acessar Painel</button>
      </form>
    </div>
  </div>

  <!-- Landing Page -->
  <div id="pLanding" class="p-landing">
    <div class="p-hero">
      <h1>Premium Social</h1>
      <p>A maior plataforma de engajamento social de Angola. Ganhe dinheiro real executando tarefas simples ou impulsione suas redes sociais.</p>
      <div class="p-hero-buttons">
        <button class="p-btn p-btn-primary" onclick="pApp.showUserLogin()">Quero Ganhar Dinheiro</button>
        <button class="p-btn p-btn-secondary" onclick="pApp.showClientLogin()">Quero Comprar Seguidores</button>
      </div>
      <div style="margin-top: 20px; opacity: 0.5; cursor: pointer;" onclick="pApp.showAdminLogin()">Acesso Administrativo</div>
    </div>

    <div class="p-access-grid">
      <div class="p-access-card" onclick="pApp.showUserLogin()">
        <div class="p-access-icon">üí∏</div>
        <h3>Para Usu√°rios</h3>
        <p>Curta, siga e comente em perfis reais e receba pagamentos instant√¢neos via IBAN ou Multicaixa Express.</p>
      </div>
      <div class="p-access-card" onclick="pApp.showClientLogin()">
        <div class="p-access-icon">üöÄ</div>
        <h3>Para Clientes</h3>
        <p>Aumente sua autoridade digital com seguidores, curtidas e visualiza√ß√µes reais e segmentadas.</p>
      </div>
    </div>
  </div>

  <!-- App Container -->
  <div id="pAppContainer" class="p-app-container">
    <!-- Client Area -->
    <div id="pClientArea" style="display: none;">
      <div class="p-header">
        <div>
          <h2>üë®‚Äçüíº √Årea do Cliente</h2>
          <div id="pClientName"></div>
          <div id="pClientSessionInfo" class="p-session-info"></div>
        </div>
        <div>
          <button class="p-btn p-btn-secondary" onclick="pApp.logout()" style="margin-right: 12px;">‚Üê Sair</button>
          <div class="p-balance">
            <div style="font-size: 1rem; opacity: 0.8;">Saldo para Campanhas</div>
            <div id="pClientBalance">0 AOA</div>
          </div>
        </div>
      </div>

      <div class="p-card">
        <h3>üöÄ Criar Nova Campanha</h3>
        <form id="campaignForm">
          <div class="p-form-grid">
            <div class="p-form-group">
              <label class="p-label">Plataforma</label>
              <select class="p-select" id="pCampaignPlatform">
                <option value="facebook">Facebook</option>
                <option value="instagram">Instagram</option>
                <option value="youtube">YouTube</option>
                <option value="tiktok">TikTok</option>
              </select>
            </div>
            <div class="p-form-group">
              <label class="p-label">Tipo de Servi√ßo</label>
              <select class="p-select" id="pCampaignType">
                <option value="seguidores">Seguidores</option>
                <option value="curtidas">Curtidas</option>
                <option value="comentarios">Coment√°rios</option>
              </select>
            </div>
            <div class="p-form-group">
              <label class="p-label">Quantidade</label>
              <input class="p-input" id="pCampaignQuantity" type="number" min="100" step="100" value="100">
            </div>
            <div class="p-form-group">
              <label class="p-label">Velocidade</label>
              <select class="p-select" id="pCampaignSpeed">
                <option value="normal">Normal</option>
                <option value="rapido">R√°pido</option>
              </select>
            </div>
          </div>
          <div class="p-form-group">
            <label class="p-label">Link do Perfil/Post</label>
            <input class="p-input" id="pCampaignLink" type="url" placeholder="https://..." required>
          </div>
          <button type="submit" class="p-btn p-btn-primary" style="width: 100%;">Lan√ßar Campanha</button>
        </form>
      </div>

      <div class="p-tasks-grid">
        <div class="p-card">
          <h3>üìä Minhas Campanhas</h3>
          <div class="p-list" id="pClientCampaigns"></div>
        </div>
        <div class="p-card">
          <h3>üí∞ Hist√≥rico Pagamentos</h3>
          <div class="p-list" id="pClientPayments"></div>
        </div>
      </div>
    </div>

    <!-- User Area -->
    <div id="pUserArea" style="display: none;">
      <div class="p-header">
        <div>
          <h2>üë§ √Årea Usu√°rio</h2>
          <div id="pUserName"></div>
          <div id="pUserSessionInfo" class="p-session-info"></div>
        </div>
        <div>
          <button class="p-btn p-btn-secondary" onclick="pApp.logout()" style="margin-right: 12px;">‚Üê Sair</button>
          <div class="p-balance">
            <div style="font-size: 1rem; opacity: 0.8;">Saldo Dispon√≠vel</div>
            <div id="pUserBalance">0 AOA</div>
          </div>
        </div>
      </div>

      <div class="p-card">
        <h3>üéØ Tarefas Dispon√≠veis</h3>
        <div class="p-list" id="pUserTasks"></div>
      </div>

      <div class="p-card">
        <h3>üí∏ Minhas Tarefas Conclu√≠das</h3>
        <div class="p-list" id="pUserCompletedTasks"></div>
      </div>

      <div class="p-card">
        <button class="p-btn p-btn-success" onclick="pApp.requestWithdraw()" style="width: 100%;">üí≥ Solicitar Saque</button>
      </div>
    </div>

    <!-- Admin Area -->
    <div id="pAdminArea" style="display: none;">
      <div class="p-header">
        <div>
          <h2>‚öôÔ∏è Painel Administrativo</h2>
          <div style="font-size: 1.1rem; opacity: 0.8;">Gerencie toda a plataforma</div>
        </div>
        <div>
          <button class="p-btn p-btn-secondary" onclick="pApp.logout()">‚Üê Sair</button>
        </div>
      </div>

      <div class="p-tasks-grid">
        <div class="p-card">
          <h3>üë• Clientes</h3>
          <div class="p-list" id="pAdminClients"></div>
        </div>
        <div class="p-card">
          <h3>üìä Estat√≠sticas</h3>
          <div style="font-size: 1.5rem; font-weight: 800; color: var(--p-success);">
            Total Receita: <span id="pAdminTotalRevenue">0 AOA</span>
          </div>
          <div style="margin-top: 24px;">
            <div>Campanhas Ativas: <span id="pAdminActiveCampaigns">0</span></div>
            <div>Tarefas Pendentes: <span id="pAdminPendingTasks">0</span></div>
            <div>Usu√°rios: <span id="pAdminTotalUsers">0</span></div>
          </div>
        </div>
      </div>

      <div class="p-card">
        <h3>üìã Tarefas Pendentes de Aprova√ß√£o</h3>
        <table class="p-admin-table">
          <thead>
            <tr>
              <th>Usu√°rio</th>
              <th>Campanha</th>
              <th>Prova</th>
              <th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody id="pAdminPendingApprovals"></tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    class PremiumSocialApp {
      constructor() {
        this.data = JSON.parse(localStorage.getItem('premiumSocialData')) || {
          users: [],
          clients: [],
          campaigns: [],
          tasks: [],
          payments: [],
          admin: { email: 'servicos.ivanlima@gmail.com', password: '@Angola2026#' }
        };
        this.currentUser = null;
        this.currentClient = null;
        this.isAdmin = false;
        this.init();
      }

      init() {
        this.bindEvents();
        this.checkSession();
        this.updateDisplays();
      }

      bindEvents() {
        // Client Login/Register
        document.getElementById('clientLoginForm').addEventListener('submit', (e) => {
          e.preventDefault();
          this.handleClientLogin();
        });
        document.getElementById('clientRegisterForm').addEventListener('submit', (e) => {
          e.preventDefault();
          this.handleClientRegister();
        });

        // User Login/Register
        document.getElementById('userLoginForm').addEventListener('submit', (e) => {
          e.preventDefault();
          this.handleUserLogin();
        });
        document.getElementById('userRegisterForm').addEventListener('submit', (e) => {
          e.preventDefault();
          this.handleUserRegister();
        });

        // Admin Login
        document.getElementById('adminLoginForm').addEventListener('submit', (e) => {
          e.preventDefault();
          this.handleAdminLogin();
        });

        // Campaign Form
        document.getElementById('campaignForm').addEventListener('submit', (e) => {
          e.preventDefault();
          this.createCampaign();
        });

        // Password strength listeners
        ['clientRegPassword', 'userRegPassword'].forEach(id => {
          const el = document.getElementById(id);
          if (el) {
            el.addEventListener('input', (e) => this.updatePasswordStrength(e.target));
          }
        });

        // Close modals on ESC key
        window.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') this.closeAllModals();
        });
      }

      checkSession() {
        const session = JSON.parse(localStorage.getItem('premiumSocialSession'));
        if (session) {
          if (session.type === 'user') {
            this.currentUser = this.data.users.find(u => u.id === session.id);
            if (this.currentUser) this.showArea('pUserArea');
          } else if (session.type === 'client') {
            this.currentClient = this.data.clients.find(c => c.id === session.id);
            if (this.currentClient) this.showArea('pClientArea');
          } else if (session.type === 'admin') {
            this.isAdmin = true;
            this.showArea('pAdminArea');
          }
        } else {
          this.showLanding();
        }
      }

      showLanding() {
        document.getElementById('pLanding').style.display = 'block';
        document.getElementById('pAppContainer').style.display = 'none';
        this.closeAllModals();
      }

      showClientLogin() {
        this.closeAllModals();
        document.getElementById('pClientLoginModal').classList.remove('hidden');
      }

      showClientRegister() {
        this.closeAllModals();
        document.getElementById('pClientRegisterModal').classList.remove('hidden');
      }

      showUserLogin() {
        this.closeAllModals();
        document.getElementById('pUserLoginModal').classList.remove('hidden');
      }

      showUserRegister() {
        this.closeAllModals();
        document.getElementById('pUserRegisterModal').classList.remove('hidden');
      }

      showAdminLogin() {
        this.closeAllModals();
        document.getElementById('pAdminLoginModal').classList.remove('hidden');
      }

      handleAdminLogin() {
        const email = document.getElementById('adminEmail').value;
        const password = document.getElementById('adminPassword').value;
        
        if (email === this.data.admin.email && password === this.data.admin.password) {
          this.isAdmin = true;
          localStorage.setItem('premiumSocialSession', JSON.stringify({ type: 'admin' }));
          this.showArea('pAdminArea');
          this.showToast('Admin logado com sucesso!', 'success');
          this.closeAllModals();
        } else {
          this.showToast('Credenciais de administrador inv√°lidas!', 'error');
        }
      }

      handleClientLogin() {
        const email = document.getElementById('clientEmail').value;
        const password = document.getElementById('clientPassword').value;
        
        const client = this.data.clients.find(c => c.email === email && c.password === password);
        if (client) {
          this.currentClient = client;
          localStorage.setItem('premiumSocialSession', JSON.stringify({ type: 'client', id: client.id }));
          this.showArea('pClientArea');
          this.updateClientDisplay();
          this.closeAllModals();
          this.showToast(`Bem-vindo(a), ${client.name}!`, 'success');
        } else {
          this.showToast('Email ou senha incorretos!', 'error');
        }
      }

      handleClientRegister() {
        const email = document.getElementById('clientRegEmail').value;
        const password = document.getElementById('clientRegPassword').value;
        
        if (this.data.clients.find(c => c.email === email)) {
          this.showToast('Email j√° cadastrado!', 'error');
          return;
        }

        const client = {
          id: Date.now(),
          email,
          password,
          name: email.split('@')[0],
          balance: 0,
          campaigns: []
        };
        
        this.data.clients.push(client);
        this.saveData();
        this.showToast('Conta criada! Fa√ßa login.', 'success');
        this.showClientLogin();
      }

      handleUserLogin() {
        const email = document.getElementById('userEmail').value;
        const password = document.getElementById('userPassword').value;
        
        const user = this.data.users.find(u => u.email === email && u.password === password);
        if (user) {
          this.currentUser = user;
          localStorage.setItem('premiumSocialSession', JSON.stringify({ type: 'user', id: user.id }));
          this.showArea('pUserArea');
          this.updateUserDisplay();
          this.closeAllModals();
          this.showToast(`Bem-vindo(a), ${user.name}!`, 'success');
        } else {
          this.showToast('Email ou senha incorretos!', 'error');
        }
      }

      handleUserRegister() {
        const email = document.getElementById('userRegEmail').value;
        const password = document.getElementById('userRegPassword').value;
        
        if (this.data.users.find(u => u.email === email)) {
          this.showToast('Email j√° cadastrado!', 'error');
          return;
        }

        const user = {
          id: Date.now(),
          email,
          password,
          name: email.split('@')[0],
          balance: 0,
          tasksCompleted: 0
        };
        
        this.data.users.push(user);
        this.saveData();
        this.showToast('Conta criada! Fa√ßa login.', 'success');
        this.showUserLogin();
      }

      createCampaign() {
        const platform = document.getElementById('pCampaignPlatform').value;
        const type = document.getElementById('pCampaignType').value;
        const link = document.getElementById('pCampaignLink').value;
        const quantity = parseInt(document.getElementById('pCampaignQuantity').value);
        const speed = document.getElementById('pCampaignSpeed').value;

        const pricePer1000 = {
          facebook: type === 'seguidores' ? 2500 : 3500,
          instagram: type === 'seguidores' ? 3000 : 4000,
          youtube: type === 'seguidores' ? 2000 : 5000,
          tiktok: type === 'seguidores' ? 2800 : 3800
        }[platform];

        const totalPrice = Math.ceil((quantity / 1000) * pricePer1000);
        
        if (this.currentClient.balance < totalPrice) {
          this.showToast('Saldo insuficiente!', 'error');
          return;
        }

        const campaign = {
          id: Date.now(),
          clientId: this.currentClient.id,
          platform,
          type,
          link,
          quantity,
          speed,
          status: 'active',
          price: totalPrice,
          createdAt: new Date().toLocaleDateString()
        };

        this.currentClient.balance -= totalPrice;
        this.data.campaigns.push(campaign);
        
        for (let i = 0; i < quantity; i += 100) {
          this.data.tasks.push({
            id: Date.now() + i,
            campaignId: campaign.id,
            platform,
            type,
            link,
            quantity: Math.min(100, quantity - i),
            reward: Math.floor(quantity / 100) * 25,
            status: 'available',
            assignedUser: null,
            proof: null
          });
        }

        this.saveData();
        this.updateClientDisplay();
        this.showToast(`Campanha criada! Custo: ${totalPrice.toLocaleString()} AOA`, 'success');
        document.getElementById('campaignForm').reset();
      }

      showArea(areaId) {
        document.getElementById('pLanding').style.display = 'none';
        document.getElementById('pAppContainer').style.display = 'block';
        document.querySelectorAll('#pAppContainer > div').forEach(area => {
          area.style.display = 'none';
        });
        document.getElementById(areaId).style.display = 'block';
        this.updateDisplays();
      }

      updateClientDisplay() {
        if (!this.currentClient) return;
        document.getElementById('pClientName').textContent = this.currentClient.name;
        document.getElementById('pClientSessionInfo').textContent = `ID: ${this.currentClient.id}`;
        document.getElementById('pClientBalance').textContent = `${this.currentClient.balance.toLocaleString()} AOA`;
        this.renderClientCampaigns();
        this.renderClientPayments();
      }

      updateUserDisplay() {
        if (!this.currentUser) return;
        document.getElementById('pUserName').textContent = this.currentUser.name;
        document.getElementById('pUserSessionInfo').textContent = `ID: ${this.currentUser.id}`;
        document.getElementById('pUserBalance').textContent = `${this.currentUser.balance.toLocaleString()} AOA`;
        this.renderUserTasks();
        this.renderUserCompletedTasks();
      }

      renderClientCampaigns() {
        const campaigns = this.data.campaigns.filter(c => c.clientId === this.currentClient.id);
        document.getElementById('pClientCampaigns').innerHTML = campaigns.map(c => `
          <div class="p-task-card">
            <div>
              <strong>${c.platform.toUpperCase()} - ${c.type}</strong><br>
              ${c.quantity.toLocaleString()} ‚Ä¢ ${c.status} ‚Ä¢ ${c.createdAt}
            </div>
            <span class="p-status p-status-${c.status}">${c.status === 'active' ? 'Ativa' : 'Conclu√≠da'}</span>
          </div>
        `).join('') || '<div style="text-align:center;opacity:0.5;">Nenhuma campanha ativa</div>';
      }

      renderClientPayments() {
        document.getElementById('pClientPayments').innerHTML = `
          <div class="p-list-item">
            <div>Saldo Inicial ‚Ä¢ Boas-vindas</div>
            <div style="color: var(--p-success);">+0 AOA</div>
          </div>
        `;
      }

      renderUserTasks() {
        const availableTasks = this.data.tasks.filter(t => t.status === 'available');
        const html = availableTasks.map(task => `
          <div class="p-task-card">
            <div>
              <strong>${task.platform.toUpperCase()} - ${task.type}</strong><br>
              ${task.quantity} a√ß√µes ‚Ä¢ Recompensa: <strong>${task.reward} AOA</strong><br>
              <small>${task.link}</small>
            </div>
            <button class="p-btn p-btn-success" onclick="pApp.acceptTask(${task.id})" style="padding: 12px 24px;">
              ‚úÖ Aceitar
            </button>
          </div>
        `).join('');
        document.getElementById('pUserTasks').innerHTML = html || '<div style="text-align:center;opacity:0.5;">Nenhuma tarefa dispon√≠vel</div>';
      }

      renderUserCompletedTasks() {
        const completedTasks = this.data.tasks.filter(t => t.status === 'completed' && t.assignedUser === this.currentUser.id);
        document.getElementById('pUserCompletedTasks').innerHTML = completedTasks.map(t => `
          <div class="p-list-item">
            <div>${t.platform} - ${t.quantity} a√ß√µes</div>
            <div style="color: var(--p-success);">+${t.reward} AOA</div>
          </div>
        `).join('') || '<div style="text-align:center;opacity:0.5;">Nenhuma tarefa conclu√≠da</div>';
      }

      acceptTask(taskId) {
        const task = this.data.tasks.find(t => t.id === taskId);
        if (task && task.status === 'available') {
          task.status = 'active';
          task.assignedUser = this.currentUser.id;
          this.saveData();
          this.updateUserDisplay();
          this.showToast(`Tarefa aceita! Envie a prova para receber ${task.reward} AOA`, 'success');
        }
      }

      requestWithdraw() {
        if (this.currentUser.balance >= 500) {
          this.showToast('Saque solicitado! Processado em 24h.', 'success');
          this.currentUser.balance = 0;
          this.saveData();
          this.updateUserDisplay();
        } else {
          this.showToast('Saldo m√≠nimo: 500 AOA', 'warning');
        }
      }

      updateDisplays() {
        if (this.isAdmin) this.renderAdminDisplay();
        if (this.currentClient) this.updateClientDisplay();
        if (this.currentUser) this.updateUserDisplay();
      }

      renderAdminDisplay() {
        document.getElementById('pAdminTotalRevenue').textContent = 
          this.data.payments.reduce((sum, p) => sum + p.amount, 0).toLocaleString() + ' AOA';
        document.getElementById('pAdminActiveCampaigns').textContent = 
          this.data.campaigns.filter(c => c.status === 'active').length;
        document.getElementById('pAdminPendingTasks').textContent = 
          this.data.tasks.filter(t => t.status === 'completed' && !t.approved).length;
        document.getElementById('pAdminTotalUsers').textContent = this.data.users.length;
        
        this.renderAdminClients();
        this.renderAdminPending();
      }

      renderAdminClients() {
        const html = this.data.clients.map(client => `
          <div class="p-list-item">
            <div>${client.name} (${client.email})</div>
            <div>${client.balance.toLocaleString()} AOA</div>
          </div>
        `).join('');
        document.getElementById('pAdminClients').innerHTML = html || '<div>Nenhum cliente</div>';
      }

      renderAdminPending() {
        const pending = this.data.tasks.filter(t => t.status === 'completed' && !t.approved);
        document.getElementById('pAdminPendingApprovals').innerHTML = pending.map(t => {
          const user = this.data.users.find(u => u.id === t.assignedUser);
          return `
            <tr>
              <td>${user ? user.name : 'N/A'}</td>
              <td>${t.platform} - ${t.quantity}</td>
              <td>${t.proof || 'Sem prova'}</td>
              <td>
                <button class="p-btn p-btn-success" onclick="pApp.approveTask(${t.id})" style="padding:8px 16px;font-size:0.8rem;">‚úÖ Aprovar</button>
              </td>
            </tr>
          `;
        }).join('') || '<tr><td colspan="4">Nenhuma tarefa pendente</td></tr>';
      }

      approveTask(taskId) {
        const task = this.data.tasks.find(t => t.id === taskId);
        if (task) {
          task.approved = true;
          const user = this.data.users.find(u => u.id === task.assignedUser);
          if (user) user.balance += task.reward;
          this.saveData();
          this.updateDisplays();
          this.showToast('Tarefa aprovada e pagamento liberado!', 'success');
        }
      }

      updatePasswordStrength(input) {
        const strengthId = input.id + 'Strength';
        const strength = document.getElementById(strengthId);
        if (!strength) return;

        const val = input.value;
        let score = 0;
        if (val.length >= 6) score++;
        if (/[a-z]/.test(val)) score++;
        if (/[A-Z]/.test(val)) score++;
        if (/\d/.test(val)) score++;
        if (/[^a-zA-Z\d]/.test(val)) score++;

        strength.className = 'p-password-strength';
        if (val.length === 0) return;
        
        if (score <= 2) strength.classList.add('p-password-weak');
        else if (score <= 3) strength.classList.add('p-password-medium');
        else strength.classList.add('p-password-strong');
      }

      closeAllModals() {
        document.querySelectorAll('.p-modal').forEach(m => m.classList.add('hidden'));
      }

      logout() {
        this.currentUser = null;
        this.currentClient = null;
        this.isAdmin = false;
        localStorage.removeItem('premiumSocialSession');
        this.showLanding();
        this.showToast('Sess√£o encerrada.', 'info');
      }

      saveData() {
        localStorage.setItem('premiumSocialData', JSON.stringify(this.data));
      }

      showToast(message, type = 'success') {
        const container = document.getElementById('toastContainer');
        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        const icon = type === 'success' ? '‚úÖ' : (type === 'error' ? '‚ùå' : '‚ö†Ô∏è');
        toast.innerHTML = `
          <span>${icon}</span>
          <span>${message}</span>
        `;
        container.appendChild(toast);
        setTimeout(() => {
          toast.style.opacity = '0';
          toast.style.transform = 'translateX(20px)';
          setTimeout(() => toast.remove(), 300);
        }, 4000);
      }
    }

    const pApp = new PremiumSocialApp();
  </script>
</body>
</html>

